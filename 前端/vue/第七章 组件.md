[TOC]

# ç»„ä»¶ç”¨æ³•

ç»„ä»¶æ³¨å†Œæœ‰ä¸¤ç§æ–¹å¼ ï¼š

- å…¨å±€æ³¨å†Œ
- å±€éƒ¨æ³¨å†Œ

## å…¨å±€æ³¨å†Œ

å…¨å±€æ³¨å†Œåï¼Œä»»ä½•`Vue`çš„å®ä¾‹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º ï¼š

```html
<div id="app">
    <my-component></my-component>
</div>
<script>
    Vue.component("my-component", {
        template : "<div>è¿™é‡Œæ˜¯ç»„ä»¶å†…å®¹...</div>"
    });
    var app = new Vue({
        el : "#app"
    })
</script>
```

ğŸ¦ `template`çš„DOMç»“æ„å¿…é¡»è¢«ä¸€ä¸ªå…ƒç´ åŒ…å«ã€‚

## å±€éƒ¨æ³¨å†Œ

```html
<div id="app">
    <my-component></my-component>
</div>
<div id="app1">
    <!-- error -->
    <my-component></my-component>
</div>
<script>
    var chirld = {
        template : "<div>è¿™æ˜¯ä¸€ä¸ªå±€éƒ¨ç»„ä»¶</div>"
    }
    var app = new Vue({
        el : "#app",
        components : {
            "my-component" : chirld
        }
    });
    var app1 = new Vue({
        el : "#app1",
        // components : {
        //     "my-component" : chirld    
        // }
    })
</script>
```

## è§£æDOMæ¨¡æ¿æ—¶æ³¨æ„çš„äº‹é¡¹

æœ‰äº› HTML å…ƒç´ ï¼Œè¯¸å¦‚ `<ul>`ã€`<ol>`ã€`<table>` å’Œ `<select>`ï¼Œå¯¹äºå“ªäº›å…ƒç´ å¯ä»¥å‡ºç°åœ¨å…¶å†…éƒ¨æ˜¯æœ‰ä¸¥æ ¼é™åˆ¶çš„ã€‚è€Œæœ‰äº›å…ƒç´ ï¼Œè¯¸å¦‚ `<li>`ã€`<tr>` å’Œ `<option>`ï¼Œåªèƒ½å‡ºç°åœ¨å…¶å®ƒæŸäº›ç‰¹å®šçš„å…ƒç´ å†…éƒ¨ã€‚

è¿™ä¼šå¯¼è‡´æˆ‘ä»¬ä½¿ç”¨è¿™äº›æœ‰çº¦æŸæ¡ä»¶çš„å…ƒç´ æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ã€‚ä¾‹å¦‚ï¼š

```html
<table>
  <blog-post-row></blog-post-row>
</table>
```

è¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶ `<blog-post-row>` ä¼šè¢«ä½œä¸ºæ— æ•ˆçš„å†…å®¹æå‡åˆ°å¤–éƒ¨ï¼Œå¹¶å¯¼è‡´æœ€ç»ˆæ¸²æŸ“ç»“æœå‡ºé”™ã€‚

**å¹¸å¥½è¿™ä¸ªç‰¹æ®Šçš„ `is` ç‰¹æ€§ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå˜é€šçš„åŠæ³•ï¼š**

```html
<body>
    <div id="app">
        <table>
            <tbody is="my-component">
            </tbody>
        </table>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    var app = new Vue({
        el: "#app",
        components: {
            "my-component": {
                template: "<div>è¿™æ˜¯ä¸€ä¸ªå±€éƒ¨æ³¨å†Œç»„ä»¶</div>"
            }
        }
    })
</script>
```

æ¸²æŸ“ç»“æœä¸º ï¼š

```html
<table>
    <div>
        è¿™æ˜¯ä¸€ä¸ªå±€éƒ¨æ³¨å†Œç»„ä»¶
    </div>
</table>
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**å¦‚æœæˆ‘ä»¬ä»ä»¥ä¸‹æ¥æºä½¿ç”¨æ¨¡æ¿çš„è¯ï¼Œè¿™æ¡é™åˆ¶æ˜¯*ä¸å­˜åœ¨*çš„** ï¼š

- å­—ç¬¦ä¸² (ä¾‹å¦‚ï¼š`template: '...'`)
- å•æ–‡ä»¶ç»„ä»¶
- `<script type="text/x-template">`

## `data`å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°

é™¤äº†`template`ä¹‹å¤–ï¼Œç»„ä»¶è¿˜å¯ä»¥ä½¿ç”¨åƒ`Vue`å®ä¾‹é‚£æ ·å…¶ä»–çš„é€‰é¡¹ï¼Œä¾‹å¦‚`data`ã€`computed`ã€`methods`ç­‰ã€‚**ä½†æ˜¯åœ¨ä½¿ç”¨`data`æ—¶ï¼Œä¸å®ä¾‹ç¨å¾®æœ‰åŒºåˆ«çš„æ˜¯ï¼Œ*`data`å¿…é¡»æ˜¯ä¸ªå‡½æ•°*ï¼Œç„¶åå°†æ•°æ®returnå‡ºå»ï¼š**

```html
<body>
    <div id="app">
        <my-component></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        template: "<div> {{message}}  </div>",
        data: function () {
            return {
                message: "dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°"
            }
        }
    });
    var app = new Vue({
        el: "#app"
    })
</script>
```

## `JavaScript`å¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»

å¦‚æœ`data`ä¸­å‡½æ•°è¿”å›å‡ºçš„å¯¹è±¡å¼•ç”¨äº†å¤–éƒ¨çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡æ˜¯å…±äº«çš„ï¼Œä¾‹å¦‚ ï¼š

```html
<body>
    <div id="app">
        <my-component></my-component>
        <my-component></my-component>
        <my-component></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    var data = {
        counter: 0
    }
    Vue.component("my-component", {
        template: "<button @click='handleCounter'> ç‚¹å‡»æ¬¡æ•° : {{counter}} </button>",
        data: function () {
            return data;
        },
        methods: {
            handleCounter: function () {
                this.counter += 1;
            }
        }
    });
    var app = new Vue({
        el: "#app"
    })
</script>
```

å½“ç‚¹å‡»ä»»æ„ä¸€ä¸ª`<button>`æ—¶ï¼Œ3ä¸ªçš„æ•°å­—éƒ½ä¼šåŠ 1ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæ‰€ä»¥ç»™ç»„ä»¶è¿”å›ä¸€ä¸ªæ–°çš„dataå¯¹è±¡æ¥ç‹¬ç«‹ï¼š

```javascript
Vue.component("my-component1", {
        template: "<button @click='handleCounter'> ç‚¹å‡»æ¬¡æ•° : {{counter}} </button>",
        data: function () {
            return {
                counter: 0
            };
        },
        methods: {
            handleCounter: function () {
                this.counter += 1;
            }
        }
    });
```

è¿™æ ·ä¸‰ä¸ªç»„ä»¶å°±äº’ä¸å½±å“äº†ã€‚

# ä½¿ç”¨`props`ä¼ é€’æ•°æ®

## åŸºæœ¬ç”¨æ³•

åœ¨ç»„ä»¶ä¸­ï¼Œé€šè¿‡é€‰é¡¹`props`æ¥å£°æ˜éœ€è¦ä»çˆ¶çº§æ¥å—çš„æ•°æ®ï¼Œ**`props`çš„å€¼å¯ä»¥æ˜¯ä¸¤ç§ï¼Œä¸€ç§æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œä¸€ç§æ˜¯å¯¹è±¡**

```html
<body>
    <div id="app">
        <my-component message = "æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ®"></my-component>
    </div>
</body>
<script>
    Vue.component("my-component",{
       props : ["message"],
       template : "<div>{{message}}</div>" 
    });
    var app = new Vue({
        el : "#app"
    })
</script>
```

*ç”±äº`html`ç‰¹æ€§ä¸åŒºåˆ†å¤§å°å†™*ï¼Œå½“ä½¿ç”¨DOMæ¨¡æ¿æ—¶ï¼Œé©¼å³°å‘½åçš„`props`åç§°è¦è½¬æ¢ä¸ºçŸ­æ¨ªåˆ†å‰²å‘½åï¼š

```html
<body>
    <div id="app">
        <my-component warning-text="æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ®"></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        props: ["warningText"],
        "template": "<div> {{warningText}} </div>"
    });
    var app = new Vue({
        el: "#app",

    })
</script>
```

## åŠ¨æ€ç»‘å®š`props`å€¼

å¯ä»¥ä½¿ç”¨ä½¿ç”¨`v-bind`æ¥åŠ¨æ€ç»‘å®š`props`çš„å€¼ ï¼š

```html
<body>
    <div id="app">
        <input type="text" v-model="parentMessage" />
        </>
        <my-component :message="parentMessage"></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        props: ["message"],
        template: "<h4> {{message}} </h4>"
    });
    var app = new Vue({
        el: "#app",
        data: {
            parentMessage: ""
        }
    })
</script>
```

## å•é¡¹æ•°æ®æµ

- çˆ¶ç»„ä»¶ä¼ é€’ä¸€ä¸ªåˆå§‹å€¼ï¼Œå­ç»„ä»¶å°†å®ƒä½œä¸ºåˆå§‹å€¼ä¿å­˜èµ·æ¥ï¼Œåœ¨è‡ªå·±çš„ä½œç”¨åŸŸä¸‹å¯ä»¥éšæ„ä¿®æ”¹ï¼š

```html
<body>
    <div id="app">
        <my-component :init-count="counter"></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        props: ['initCount'],
        template: "<h2> {{counter}} </h2>",
        data : function(){
            return {
                counter : this.initCount
            }
        }
    });

    var app = new Vue({
        el: "#app",
        data : {
            counter : 1
        }
    })
</script>
```

- `prop`éœ€è¦ä»¥ä¸€ç§åŸå§‹å€¼ä¼ å…¥å¹¶éœ€è¦è¿›è¡Œè½¬æ¢ ï¼š

```html
<body>
    <div id="app">
        <my-component :width="width"></my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        props: ['width'],
        template: "<div :width='style'>ç»„ä»¶å†…å®¹</div>",
        computed : {
            style : function(){
                return this.width + "px";
            }
        }
    });

    var app = new Vue({
        el: "#app",
        data : {
            width : 100
        }
    })
</script>
```

## æ•°æ®éªŒè¯

```javascript
Vue.component('my-component', {
  props: {
    // åŸºç¡€çš„ç±»å‹æ£€æŸ¥ (`null` åŒ¹é…ä»»ä½•ç±»å‹)
    propA: Number,
    // å¤šä¸ªå¯èƒ½çš„ç±»å‹
    propB: [String, Number],
    // å¿…å¡«çš„å­—ç¬¦ä¸²
    propC: {
      type: String,
      required: true
    },
    // å¸¦æœ‰é»˜è®¤å€¼çš„æ•°å­—
    propD: {
      type: Number,
      default: 100
    },
    // å¸¦æœ‰é»˜è®¤å€¼çš„å¯¹è±¡
    propE: {
      type: Object,
      // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–
      default: function () {
        return { message: 'hello' }
      }
    },
    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°
    propF: {
      validator: function (value) {
        // è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª
        return ['success', 'warning', 'danger'].indexOf(value) !== -1
      }
    }
  }
})
```

æ³¨æ„ ï¼š **å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–**

# ç»„ä»¶é€šä¿¡

## è‡ªå®šä¹‰äº‹ä»¶

çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥åœ¨å­ç»„ä»¶çš„è‡ªå®šä¹‰æ ‡ç­¾ä¸Šä½¿ç”¨`v-on`æ¥ç›‘å¬å­ç»„ä»¶è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ ï¼š

```html
<body>
    <div id="app">
        <p>æ€»æ•° : {{total}}</p>
        <my-component @increase="handleGetTotal" @reduce="handleGetTotal">
        </my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        template: "\
        <div>\
        <button @click='handleIncrease'>+1</button>\
        <button @click='handleReduce'>-1</button>\
        </div>",
        data : function(){
            return {
                counter : 0
            }
        },
        methods : {
            handleIncrease : function(){
                this.counter ++;
                this.$emit('increase',this.counter);
            },
            handleReduce : function(){
                this.counter --;
                this.$emit('reduce',this.counter);
            }
        }
    });
    var app = new Vue({
        el: "#app",
        data: {
            total: 0
        },
        methods: {
            handleGetTotal: function (total) {
                this.total = total;
            }
        }
    })
</script>
```

å…¶ä¸­ï¼Œ`$emit()`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è‡ªå®šä¹‰äº‹ä»¶çš„åç§°ï¼Œä¾‹å¦‚ç¤ºä¾‹ä¸­çš„`increase`å’Œ`reduce`ï¼Œåé¢çš„å‚æ•°æ˜¯éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚

## ä½¿ç”¨`v-model`

```html
<body>
    <div id="app">
        <p>æ€»æ•° : {{total}}</p>
        <my-component v-model="total">
        </my-component>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        template: "\
        <div>\
        <button @click='handleIncrease'>+1</button>\
        <button @click='handleReduce'>-1</button>\
        </div>",
        data: function () {
            return {
                counter: 0
            }
        },
        methods: {
            handleIncrease: function () {
                this.counter++;
                this.$emit('input', this.counter);
            },
            handleReduce: function () {
                this.counter--;
                this.$emit('input', this.counter);
            }
        }
    });
    var app = new Vue({
        el: "#app",
        data: {
            total: 0
        }
    })
</script>

```

## æ•°æ®åŒå‘ç»‘å®š

```html
<body>
    <div id="app">
        <p>æ€»æ•° : {{total}}</p>
        <my-component v-model="total"></my-component>
        <button @click="handleReduce">-1</button>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("my-component", {
        props : ['value'],
        template : "<input type='text' :value='value' @input='updateValue'/>",
        methods : {
            updateValue : function(event){
                this.$emit('input', event.target.value);
            }
        }
    });
    var app = new Vue({
        el: "#app",
        data: {
            total: 0
        },
        methods : {
            handleReduce : function(){
                this.total -= 1;
            }
        }
    })
</script>
```

## éçˆ¶å­ç»„ä»¶é€šä¿¡

```html
<body>
    <div id="app">
        {{message}}
        <component-a></component-a>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    var bus = new Vue({
    });
    Vue.component("component-a", {
        template: "<button @click='handleEvent'>ä¼ é€’äº‹ä»¶</button>",
        methods: {
            handleEvent: function () {
                bus.$emit("on-message", 'æ¥è‡ªcomponent-açš„å†…å®¹');
            }
        }
    });
    var app = new Vue({
        el: "#app",
        data: {
            message: ""
        },
        mounted: function () {
            var _this = this;
            // åœ¨å®ä¾‹åˆå§‹åŒ–æ—¶ï¼Œç›‘å¬æ¥è‡ªbuså®ä¾‹çš„äº‹ä»¶ => äº‹ä»¶å¯ä»¥ç”±vm.$emitè§¦å‘
            bus.$on("on-message", function (msg) {
                _this.message = msg;
            });
        }
    })
</script>
```

# ä½¿ç”¨`slot`åˆ†å‘å†…å®¹

## `slot`ç”¨æ³•

### å•ä¸ª`slot`

åœ¨ **å­ç»„ä»¶å†…** ä½¿ç”¨ç‰¹æ®Šçš„`<slot></slot>`æ ‡ç­¾å°±å¯ä»¥ä¸ºè¿™ä¸ªå­ç»„ä»¶å¼€å¯ä¸€ä¸ª`slot`ï¼ˆæ’æ§½ï¼‰ï¼Œåœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­ï¼Œ**æ’å…¥åœ¨å­ç»„ä»¶æ ‡ç­¾å†…**çš„æ‰€æœ‰å†…å®¹å°†æ›¿ä»£å­ç»„ä»¶å†…çš„`<slot>`æ ‡ç­¾åŠå®ƒçš„å†…å®¹ ï¼š

```html
<body>
    <div id="app">
        <child-component>
            <p>åˆ†å‘å†…å®¹</p>
            <p>æ›´å¤šåˆ†å‘å†…å®¹</p>
        </child-component>
    </div>
</body>
<script>
    Vue.component("child-component", {
        template: "\
        <div>\
            <slot>\
                <p>å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰æ’å…¥å†…å®¹,æˆ‘å°†é»˜è®¤å‡ºç°</p>\
                </slot>\
            </div>"
    });
    var app = new Vue({
        el : "#app"
    })
</script>
```

### å…·å`slot`

ç»™`<slot>`å…ƒç´ æŒ‡å®šä¸€ä¸ª`name`åå¯ä»¥åˆ†å‘å¤šä¸ªå†…å®¹ ï¼š

```html
<body>
    <div id="app">
        <child-component>
            <h2 slot="title">æ ‡é¢˜</h2>
            <p>æ­£æ–‡ä¿¡æ¯</p>
            <p>æ›´å¤šä¿¡æ¯</p>
            <div slot="footer">åº•éƒ¨ä¿¡æ¯</div>
        </child-component>
    </div>
</body>
<script>
    Vue.component("child-component", {
        template: "\
        <div class='container'>\
            <div class='header'>\
                <slot name='title'></slot>\
            </div>\
            <div class='main'>\
                <slot></slot>\
            </div>\
            <div class='footer'>\
                <slot name='footer'></slot>\
            </div>\
        </div>"
    });
    var app = new Vue({
        el : "#app"
    })
</script>
```

## ä½œç”¨åŸŸæ’æ§½

```html
<body>
    <div id="app">
        <todo-list :todos="todos">
            <!-- å°†slotPropsä½œä¸ºæ’æ§½ä½œç”¨åŸŸçš„åå­— -->
            <template slot-scope="slotProps">
                <span v-if="slotProps.todo.userId == 1">
                    ğŸ‘
                </span>
                {{slotProps.todo.body}}
            </template>
        </todo-list>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    Vue.component("todo-list", {
        props : ["todos"],
        template: "\
        <ul>\
            <li v-for='(todo,item) in todos' :key='todo.id'>\
                <h5>{{todo.title}}</h5>\
                <!-- å°†todoå¯¹è±¡ä½œä¸ºä¸€ä¸ªæ’æ§½çš„propæ’å…¥ -->\
                <slot v-bind:todo='todo'>\
                    {{todo.body}}\
                </slot>\
            </li>\
        </ul>"
    });
    var app = new Vue({
        el: "#app",
        data: {
            todos: []
        },
        created: function () {
            var _this = this;
            fetch('https://jsonplaceholder.typicode.com/posts')
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    _this.todos = data;
                });
        }
    })
</script>
```

## è®¿é—®`slot`ï¼ˆæ’æ§½ï¼‰

`$slots`å¯ä»¥ç”¨æ¥è®¿é—®æ’æ§½ ï¼š

```html
<body>
    <div id="app">
        <child-component>
            <h2 slot="head">æ ‡é¢˜</h2>
            <p>æ­£æ–‡å†…å®¹</p>
            <p>æ›´å¤šæ­£æ–‡å†…å®¹</p>
            <div slot="footer">åº•éƒ¨ä¿¡æ¯</div>
        </child-component>
    </div>
</body>
<script>
    Vue.component("child-component", {
        template: '\
        <div>\
            <div class="header">\
                <slot name="head"></slot>\
            </div>\
            <slot></slot>\
            <div>\
            <slot name="footer"></slot>\
            </div>\
        </div>',
        mounted : function(){
            var head = this.$slots.head;
            var footer = this.$slots.footer;
            console.log(head);
            console.log(footer);
            console.log(head[0].elm.innerHTML);
        }
    });
    var app = new Vue({
        el: "#app"
    })
</script>
```

# ç»„ä»¶çš„é«˜çº§ç”¨æ³•

## é€’å½’ç»„ä»¶

ç»„ä»¶åœ¨æ¨¡æ¿å†…å¯ä»¥è°ƒç”¨ä»–è‡ªå·±ï¼Œåªè¦ç»™ç»„ä»¶è®¾ç½®`name`çš„é€‰é¡¹å°±å¯ä»¥äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ ï¼š**éœ€è¦ç»™ä¸€ä¸ªæ¡ä»¶é™åˆ¶é€’å½’æ•°é‡**

```html

```

## åŠ¨æ€ç»„ä»¶

`Vue.js`æä¾›äº†ç‰¹æ®Šçš„å…ƒç´ `<component>`ç”¨æ¥åŠ¨æ€æŒ‚è½½ä¸åŒçš„ç»„ä»¶ï¼Œä½¿ç”¨`:is`æ¥é€‰æ‹©è¦åŠ è½½çš„ç»„ä»¶ ï¼š

```html
<body>
    <div id="app">
        <component :is="currentView"></component>
        <button @click="handleChangeView('A')">åˆ‡æ¢åˆ°A</button>
        <button @click="handleChangeView('B')">åˆ‡æ¢åˆ°B</button>
        <button @click="handleChangeView('C')">åˆ‡æ¢åˆ°C</button>
    </div>
</body>
<script src="../vue/vue.js"></script>
<script>
    var app = new Vue({
        el : "#app",
        components : {
            comA : {
                template : "<div>ç»„ä»¶A</div>"
            },
            comB : {
                template : "<div>ç»„ä»¶B</div>"
            },
            comC : {
                template : "<div>ç»„ä»¶C</div>"
            }
        },
        data : {
            currentView : 'comA'
        },
        methods : {
            handleChangeView : function(component){
                this.currentView = "com" + component;      
            }
        }
    });
</script>
```

## å¼‚æ­¥ç»„ä»¶

åœ¨å¤§ä¸­å‹é¡¹ç›®ä¸­ï¼Œå°†æ‰€æœ‰çš„ç»„ä»¶éƒ½åŠ è½½æ˜¯æ²¡æœ‰å¿…è¦çš„ä¸€ç¬”å¼€é”€ã€‚`Vue.js`å…è®¸å°†ç»„ä»¶å®šä¹‰ä¸ºä¸€ä¸ªå·¥å‚å‡½æ•°ï¼ŒåŠ¨æ€çš„è§£æç»„ä»¶ã€‚

```html
<body>
    <div id="app">
        <my-component></my-component>
    </div>    
</body>
<script>
    Vue.component("my-component", function(resolve,reject){
        window.setTimeout(resolve({
            template : "<div>å¼‚æ­¥åŠ è½½ç»„ä»¶</div>"
        }),3000);
    })
    var app = new Vue({
        el : "#app"
    })
</script>
```

å·¥å‚å‡½æ•°æ¥æ”¶ä¸€ä¸ª`resolve`å›è°ƒï¼Œåœ¨æ”¶åˆ°ä»æœåŠ¡å™¨ä¸‹è½½çš„ç»„ä»¶å®šä¹‰æ—¶è°ƒç”¨ã€‚ä¹Ÿå¯ä»¥è°ƒç”¨`reject(reason)`æŒ‡ç¤ºåŠ è½½å¤±è´¥ã€‚

# å…¶ä»–

## `$nextTick`

```html
<body>
    <div id="app">
        <div id="div" v-if="showDiv">è¿™æ˜¯ä¸€æ®µæ–‡æœ¬</div>
        <button @click="getText">æ˜¾ç¤ºå¹¶è·å–divå†…å®¹</button>
    </div>
</body>
<script src="../../vue/vue.js"></script>
<script>
    var app = new Vue({
        el : "#app",
        data : {
            showDiv : false
        },
        methods : {
            getText : function(){
                this.showDiv = true;
                this.$nextTick(function(){
                    var text = document.getElementById("div").innerHTML;
                    console.log(text);
                });
            }
        }
    })
</script>
```

## `X-Template`

å¦‚æœç»„ä»¶ä¸­çš„`template`å†…å®¹å¾ˆå¤æ‚ï¼Œåœ¨`JavaScript`ä¸­æ‹¼æ¥å­—ç¬¦ä¸²çš„è¯ï¼Œæ•ˆç‡ä¼šå¾ˆä½çš„ã€‚`Vue`æä¾›äº†å¦å¤–ä¸€ç§å®šä¹‰æ¨¡æ¿çš„æ–¹å¼ï¼Œåœ¨`<script>`ä¸­ä½¿ç”¨`text/x-template`ç±»å‹ï¼Œ**å¹¶ä¸”æŒ‡å®šä¸€ä¸ª`id`ï¼Œå°†è¿™ä¸ª`id`èµ‹å€¼ç»™`template`**ï¼š

```html
<body>
    <div id="app">
        <my-component></my-component>
        <script type="text/x-template" id="my-component">
            <div>
                ç»„ä»¶å†…å®¹...
            </div>
        </script>
    </div>
</body>
<script>
    Vue.component("my-component",{
        template : "#my-component"
    })

    var app = new Vue({
        el : "#app"
    })
</script>
```

## æ‰‹åŠ¨æŒ‚è½½å®ä¾‹

Vueæä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥æŒ‚åœ¨å®ä¾‹ï¼š

- `Vue.extend`

- `$mount`

`Vue.extend`æ˜¯åŸºç¡€Vueæ„é€ å™¨ï¼Œåˆ›å»ºä¸€ä¸ªâ€œå­ç±»â€ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡ã€‚ 

å¦‚æœVueå®ä¾‹åœ¨å®ä¾‹åŒ–æ—¶æ²¡æœ‰æ”¶åˆ°`el`é€‰é¡¹ï¼Œå®ƒå°±å¤„äº**æœªæŒ‚è½½**çŠ¶æ€ï¼Œæ²¡æœ‰å…³è”çš„DOMå…ƒç´ ã€‚**å¯ä»¥ä½¿ç”¨`$mount()`æ‰‹åŠ¨çš„æŒ‚è½½ä¸€ä¸ªæœªæŒ‚è½½çš„å®ä¾‹** ï¼š

```html
<body>
    <div id="mount-div">

    </div>
</body>
<script>
    var MyComponent = Vue.extend({
        template : "<div>hello : {{name}}</div>",
        data : function(){
            return {
                name : "Aresn"
            }
        }
    });

    new MyComponent().$mount("#mount-div");
</script>
```

