[TOC]

# å†…ç½®æŒ‡ä»¤

å›é¡¾ç¬¬äºŒç« ï¼Œæˆ‘ä»¬å·²ç»æ¥è§¦è¿‡å†…ç½®æŒ‡ä»¤çš„ç›¸å…³æ¦‚å¿µï¼Œä¾‹å¦‚ï¼š`v-model`ï¼Œ`v-html`ï¼Œ`v-pre`ï¼Œ`v-if`ï¼Œ`v-bind`ï¼Œ`v-on`ç­‰ç­‰

## åŸºæœ¬æŒ‡ä»¤

### `v-cloak`

`v-cloak`ä¸éœ€è¦è¡¨è¾¾å¼ï¼Œå®ƒä¼šåœ¨Vueå®ä¾‹ç»“æŸç¼–è¯‘æ—¶ä»ç»‘å®šçš„HTMLå…ƒç´ ä¸Šç§»é™¤ï¼Œç»å¸¸å’Œ`display:none`é…åˆä½¿ç”¨ï¼š

```html
<style>
    [v-cloak]{
        display : none;
    }
</style>
<body>
	<div id="app" v-cloak>
		{{message}}
    </div>
</body>
<script>
	setTimeout(function(){
		var app = new Vue({
			el : "#app",
			data : {
				message : 'this is a message'
			}
        })
    },1000);
        
</script>
```

**åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ`v-cloak`æ˜¯è§£å†³åˆå§‹åŒ–æ…¢å¯¼è‡´é¡µé¢é—ªåŠ¨çš„æœ€ä½³å®è·µï¼Œä½†æ˜¯åœ¨å…·æœ‰å·¥ç¨‹åŒ–çš„é¡¹ç›®ä¸­ï¼Œä¾‹å¦‚åé¢ä¼šä»‹ç»`webpack`å’Œ`vue-router`æ—¶ï¼Œé¡¹ç›®çš„HTMLç»“æ„åªæœ‰ä¸€ä¸ªç©ºçš„divå…ƒç´ ï¼Œå‰©ä½™çš„å†…å®¹éƒ½æ˜¯ç”±è·¯ç”±å»æŒ‚åœ¨ä¸åŒçš„ç»„ä»¶å®Œæˆçš„ï¼Œæ‰€ä»¥ä¸éœ€è¦`v-cloak`**

### `v-once`

`v-once`ä¹Ÿæ˜¯ä¸€ä¸ªä¸éœ€è¦è¡¨è¾¾å¼çš„æŒ‡ä»¤ï¼Œä½œç”¨æ˜¯å®šä¹‰å®ƒçš„å…ƒç´ æˆ–è€…ç»„ä»¶åªæ˜¯æ¸²æŸ“ä¸€æ¬¡ã€‚é¦–æ¬¡æ¸²æŸ“ä¹‹åï¼Œä¸å†éšæ•°æ®çš„å˜åŒ–é‡æ–°æ¸²æŸ“ï¼Œå°†è¢«è§†ä¸ºé™æ€å†…å®¹ï¼š

```html
<body>
    <div id="app">
        <span>
            {{message}}
        </span>
        <div v-once>
            <span>{{message}}</span>
        </div>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            message: 'this is a message'
        }
    })
</script>
```

## æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤

### `v-if`ã€`v-else-if`ã€`v-else`

```html
<body>
    <div id="app">
       <p v-if="status === 1">
            å½“statusä¸º1çš„æ—¶å€™æ˜¾ç¤ºè¯¥è¡Œ
       </p>
       <p v-else-if="status === 2">
            å½“statusä¸º2çš„æ—¶å€™æ˜¾ç¤ºè¯¥è¡Œ
       </p>
       <p v-else>
           å¦åˆ™æ˜¾ç¤ºè¯¥è¡Œ
       </p>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            status: 1
        }
    })
</script>
```

è¿˜å¯ä»¥åœ¨Vue.jså†…ç½®çš„**`<template>`**ä¸Šä½¿ç”¨æ¡ä»¶æŒ‡ä»¤

```html
<body>
    <div id="app">
        <template v-if="status === 1">
            <p>é¢æœå¤§æµ·</p>
            <p>æˆ‘ç«™æˆäº†å¤§æµ·</p>
            <p>ä½ åœ¨æˆ‘é‡Œé¢æµ®æ²‰</p>
            <p>æƒ…çˆ±é‡Œå—çš„ç†¬ç…</p>
        </template>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            status: 1
        }
    })
</script>
```

Vueåœ¨æ¸²æŸ“å…ƒç´ çš„æ—¶å€™ï¼Œå‡ºäºæ•ˆç‡è€ƒè™‘ï¼Œä¼šå°½å¯èƒ½çš„å¤ç”¨å·²æœ‰çš„å…ƒç´ è€Œéé‡æ–°æ¸²æŸ“ï¼Œä¾‹å¦‚ï¼š

```html
<body>
    <div id="app">
        <template v-if="type === 'username'">
            <label>ç”¨æˆ·å</label>
            <input type="text" placeholder="ç”¨æˆ·å" />
        </template>
        <template v-else>
            <label>é‚®ç®±</label>
            <input type="text" placeholder="é‚®ç®±" />
        </template>
        <button v-on:click="handleToggleClick">åˆ‡æ¢è¾“å…¥ç±»å‹</button>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            type: 'username'
        },
        methods: {
            handleToggleClick: function () {
                this.type = (this.type === 'username' ? 'email' : 'username')
            }
        }
    })
</script>
```

ç‚¹å‡»åˆ‡æ¢æŒ‰é’®ä¹‹åï¼Œè™½ç„¶DOMå˜äº†ï¼Œä½†æ˜¯ä¹‹å‰åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥çš„å†…å®¹å´æ²¡æœ‰å˜ã€‚è¯´æ˜`<input/>`è¢«å¤ç”¨äº†ã€‚

å¦‚æœä½ ä¸æƒ³è¿™ä¹ˆåšï¼Œå¯ä»¥ä½¿ç”¨Vue.jsæä¾›çš„**key**å±æ€§ï¼Œå®ƒå¯ä»¥è®©ä½ å†³å®šæ˜¯å¦éœ€è¦å¤ç”¨å…ƒç´ ï¼Œ**keyçš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„**ï¼š

```html
<template v-if="type === 'username'">
            <label>ç”¨æˆ·å</label>
            <input type="text" name="username" placeholder="ç”¨æˆ·å" key="username-input"/>
        </template>
        <template v-else>
            <label>é‚®ç®±</label>
            <input type="text" name="email" placeholder="é‚®ç®±" key="email-input" />
        </template>
```

### `v-show`

`v-show`ä¸`v-if`ç±»ä¼¼ï¼Œ**ä½†æ˜¯ä¸èƒ½åœ¨`<template>`ä¸Šä½¿ç”¨**ï¼š

```html
<body>
    <div id="app">
       <p v-show="status === 1">
            å½“statusä¸º1çš„æ—¶å€™æ˜¾ç¤ºè¯¥è¡Œ
       </p>
       <template v-show="status === 2">
           <p>error</p>
       </template>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            status: 1
        }
    })
</script>
```

æ¸²æŸ“ç»“æœä¸ºï¼š

```html
<div id="app">
    <p>å½“statusä¸º1çš„æ—¶å€™æ˜¾ç¤ºè¯¥è¡Œ</p> 
    <p>error</p>
</div>
```

### `v-if`ä¸`v-show`çš„é€‰æ‹©

`v-if`ä¸`v-show`å…·æœ‰ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œä½†æ˜¯`v-if`æ‰æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œä¼šæ ¹æ®è¡¨è¾¾å¼é€‚å½“çš„é”€æ¯æˆ–è€…é‡å»ºå…ƒç´ åŠç»‘å®šçš„äº‹ä»¶æˆ–å­ç»„ä»¶ã€‚è‹¥è¡¨è¾¾å¼åˆå§‹å€¼ä¸º`false`ï¼Œåˆ™ä¸€å¼€å§‹å…ƒç´ /ç»„ä»¶ä¸ä¼šæ¸²æŸ“ï¼Œåªæœ‰å½“æ¡ä»¶ç¬¬ä¸€æ¬¡ä¸º`true`çš„æ—¶å€™æ‰å¼€å§‹ç¼–è¯‘ã€‚`v-show`åªæ˜¯ç®€å•çš„CSSå±æ€§åˆ‡æ¢ï¼Œæ— è®ºæ¡ä»¶çœŸä¸å¦ï¼Œéƒ½ä¼šè¢«ç¼–è¯‘ã€‚

ğŸ³â€ğŸŒˆ `v-if`æ›´é€‚åˆæ¡ä»¶ä¸ç»å¸¸æ”¹å˜çš„åœºæ™¯ï¼Œå› ä¸ºå®ƒåˆ‡æ¢å¼€é”€ç›¸å¯¹è¾ƒå¤§ï¼Œ`v-show`é€‚ç”¨äºé¢‘æ¢åˆ‡æ¢æ¡ä»¶ã€‚

## åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤`v-for`

### åŸºæœ¬ç”¨æ³•

`v-for`è¡¨è¾¾å¼æ”¯æŒä¸€ä¸ªå¯é€‰å‚æ•°ä½œä¸ºå½“å‰é¡¹çš„ç´¢å¼•ï¼š

```html
<body>
    <div id="app">
        <ul>
            <li v-for="(book,index) in books">
                {{index + 1}} - {{book.name}}
            </li>
        </ul>

    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            books: [
                { name: 'Javaè¯­è¨€ç²¾ç²¹', author: 'a' },
                { name: 'Think in Java', author: 'b' },
                { name: 'Head First Java', author: 'c' }
            ]
        }
    })
</script>
```

å’Œ`v-if`ä¸€æ ·ï¼Œ`v-for`å¯ä»¥ç”¨äº`<template>`ä¸Šï¼š

```html
<body>
    <div id="app">
        <ul>
            <template v-for="book in books">
                <li>
                    <p>bookname : {{book.name}}</p>
                    <p>author : {{book.author}}</p>
                </li>
            </template>
        </ul>
    </div>
</body>
```

é™¤äº†æ•°ç»„ä¹‹å¤–ï¼Œå¯¹è±¡ä¹Ÿå¯ä»¥ä½¿ç”¨`v-for`è¿›è¡Œéå†ï¼š

```html
<body>
    <div id="app">
        <span v-for="value in user" > {{value}} </span>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            user : {
                name : 'shiwa',
                sex : 'man',
                age : '18'
            }
        }
    })
</script>
```

æ¸²æŸ“ç»“æœä¸ºï¼š

```html
<div id="app"><span> shiwa </span><span> man </span><span> 18 </span></div>
```

éå†å¯¹è±¡æ—¶ï¼Œæœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼Œåˆ†åˆ«æ˜¯é”®åå’Œç´¢å¼•ï¼š

```html
<ul>
    <li v-for="(value,key,index) in user">
    	{{index}} : {{key}} - {{value}}
    </li>
</ul>
```

æ¸²æŸ“ç»“æœä¸ºï¼š

```html
<ul>
   <li> 0 : name - shiwa </li>
   <li> 1 : sex - man </li>
   <li> 2 : age - 18 </li>
</ul>
```

`v-for`è¿˜å¯ä»¥è¿­ä»£æ•´æ•°ï¼š

```html
<body>
    <div id="app">
        <span v-for="n in 5"> {{n}} </span>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
    })
</script>
```

æ¸²æŸ“ç»“æœä¸º ï¼š

```html
<div id="app">
    <span> 1 </span>
    <span> 2 </span>
    <span> 3 </span>
    <span> 4 </span>
    <span> 5 </span>
</div>
```

### æ•°ç»„æ›´æ–°

```javascript
var app = new Vue({
        el: "#app",
        data: {
            books: [
                { name: 'Javaè¯­è¨€ç²¾ç²¹', author: 'a' },
                { name: 'Think in Java', author: 'b' },
                { name: 'Head First Java', author: 'c' }
            ]
        }
    });

    app.books.push({
        name : 'Vueå®è·µ',
        author : 'd'
    })

    app.books = app.books.filter(function(item){
        return item.name.match(/Vue/);
    })
```

#### å˜å¼‚æ–¹æ³•

å˜å¼‚æ–¹æ³•ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼Œä¾‹å¦‚ï¼š

- `push()` â€”â€” å°†ä¸€ä¸ªå…ƒç´ æˆ–è€…å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°å…ƒç´ çš„æœ«å°¾
- `pop()` â€”â€” åˆ é™¤æœ«å°¾å…ƒç´ 
- `shift()` â€”â€” åˆ é™¤æ•°ç»„æœ€å‰é¢çš„å…ƒç´ 
- `unshift()` â€”â€” æ·»åŠ å…ƒç´ åˆ°æ•°ç»„çš„å¤´éƒ¨
- `splice()`  â€”â€” ä»ä¸€ä¸ªç´¢å¼•ä½ç½®åˆ é™¤å¤šä¸ªå…ƒç´ 

- `sort()` â€”â€” å¯¹æ•°ç»„è¿›è¡Œæ’åº
- `reverse()` â€”â€” é¢ å€’æ•°ç»„çš„æ’åˆ—é¡ºåº

ğŸ¯ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ä¸­ï¼ŒVueæ˜¯ä¸èƒ½æ£€æµ‹åˆ°çš„ï¼Œä¹Ÿä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼š

- é€šè¿‡ç´¢å¼•ç›´æ¥ä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œä¾‹å¦‚`vm.items[indexOfItem] = newValue`
- ä¿®æ”¹æ•°ç»„çš„é•¿åº¦ï¼Œä¾‹å¦‚`vm.items.length = newLength`

ç¬¬ä¸€ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š

```javascript
Vue.set(app.books,2,{
	name : 'ã€ŠHead First Javaã€‹',
	author : 'c'
}) 
```

æˆ–è€…ä½¿ç”¨ ï¼š

```javascript
vm.items.splice(indexOfItem, 1, newValue);
```

å¦‚æœæ˜¯åœ¨`webpack`ä¸­ä½¿ç”¨ç»„ä»¶å¼çš„æ–¹å¼çš„è¯ï¼š

> è¿˜ä¸äº†è§£~

ç¬¬äºŒä¸ªé—®é¢˜å¯ä»¥ç”¨`splice`æ¥è§£å†³ï¼š

```javascript
app.books.splice(1);
```

### è¿‡æ»¤ä¸æ’åº

å¦‚æœä½ ä¸æƒ³æ”¹å˜åŸæ•°ç»„ï¼Œæƒ³é€šè¿‡ä¸€ä¸ªæ•°ç»„çš„å‰¯æœ¬æ¥ä½œä¸ºè¿‡æ»¤æˆ–è€…æ’åºçš„æ˜¾ç¤ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§æ¥è¿”å›è¿‡æ»¤æˆ–æ’åºåçš„æ•°ç»„ï¼š

```html
<body>
    <div id="app">
        <ul>
            <template v-for="book in filterBooks">
                <li>
                    <p>bookname : {{book.name}}</p>
                    <p>author : {{book.author}}</p>
                </li>
            </template>
        </ul>

    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            books: [
                { name: 'Javaè¯­è¨€ç²¾ç²¹', author: 'a' },
                { name: 'Head First Java', author: 'c' },
                { name: 'Think in Java', author: 'b' },
                { name: 'Vue', author: 'shiwa' }
            ]
        },
        computed: {
            filterBooks: function () {
                return this.books.filter(function (book) {
                    return book.name.match(/Java/);
                });
            }
        }
    });
</script>
```

å¦‚æœæ˜¯ä½¿ç”¨æ’åºçš„è¯ä¹Ÿä¸ä¹‹ç±»ä¼¼ï¼š

```javascript
computed: {
            filterBooks: function () {
                return this.books.filter(function (book) {
                    return book.name.match(/Java/);
                });
            },
            sortBooks : function(){
                return this.books.sort(function(a,b){
                    return a.name.length < b.name.length;
                });
            }
        }
```

## æ–¹æ³•ä¸äº‹ä»¶

```html
<body>
    <div id="app">
        ç‚¹å‡»æ¬¡æ•° : {{counter}}
        <button @click="handleAdd()"> +1 </button>
        <button @click="handleAdd(10)"> +10 </button>
    </div>
</body>
<script type="text/javascript">
    var app = new Vue({
        el : document.getElementById("app"),
        data : {
            counter : 0
        },
        methods : {
            handleAdd : function(count){
                count = count || 1;
                this.counter += count;
            }
        }
    })
</script>
```

`Vue`æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„å˜é‡`$event`ï¼Œç”¨äºè®¿é—®åŸç”ŸDOMäº‹ä»¶ï¼Œä¾‹å¦‚ï¼š

```html
<body>
    <div id="app">
        <a href="www.baidu.com" @click="handleClick('ç¦æ­¢æ‰“å¼€',$event)">ç™¾åº¦</a>
    </div>
</body>
<script>
    var app = new Vue({
        el: "#app",
        methods: {
            handleClick: function (message, event) {
                event.preventDefault();
                window.alert(message);
            }
        }
    })
</script>
```

ä½†æ˜¯æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼š

```html
<a href="www.github.com" @click.prevent="handleClick('ç¦æ­¢æ‰“å¼€åŒæ€§äº¤æµç½‘ç«™')">æœ€å¤§çš„åŒæ€§äº¤æµç½‘ç«™</a>
<!-- ... -->
<script>
	var app = new Vue({
        el: "#app",
        methods: {
            handleClick: function (message) {
                window.alert(message);
            }
        }
    })
</script>
```

### äº‹ä»¶ä¿®é¥°ç¬¦

```html
<!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ï¼ˆå†’æ³¡ï¼‰ -->
<a v-on:click.stop="doThis"></a>

<!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ -->
<form v-on:submit.prevent="onSubmit"></form>

<!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” -->
<a v-on:click.stop.prevent="doThat"></a>

<!-- åªæœ‰ä¿®é¥°ç¬¦ -->
<form v-on:submit.prevent></form>

<!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ -->
<!-- å³å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† -->
<div v-on:click.capture="doThis">...</div>

<!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° -->
<!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ -->
<div v-on:click.self="doThat">...</div>

<!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ -->
<!-- ç»„ä»¶åŒæ ·é€‚ç”¨ -->
<a v-on:click.once="doThis"></a>
```

### æŒ‰é”®ä¿®é¥°ç¬¦

åœ¨è¡¨å•ä¸Šç›‘è§†é”®ç›˜äº‹ä»¶æ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æŒ‰é”®ä¿®é¥°ç¬¦ï¼Œä¾‹å¦‚ï¼š

```html
<!-- åªæœ‰åœ¨ `keyCode` æ˜¯ 13 æ—¶è°ƒç”¨ `vm.submit()` -->
<input v-on:keyup.13="submit">
```

è®°ä½`keyCode`æ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥`vue`ä¸ºå¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åï¼š

```html
<input @keyup.enter="submit()" type="text"/>
```

è¿˜å¯ä»¥è‡ªå·±é…ç½®æŒ‰é”®ï¼š

```javascript
Vue.config.keyCodes.f1 = 112;
// é…ç½®æˆåŠŸä¹‹åå°±å¯ä»¥ä½¿ç”¨@keyup.f1
```

å…¨éƒ¨çš„æŒ‰é”®åˆ«å ï¼š

- `.enter`
- `.tab`
- `.delete` (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)
- `.esc`
- `.space`
- `.up`
- `.down`
- `.left`
- `.right`

### ç³»ç»Ÿä¿®é¥°é”®

- `.ctrl`
- `.alt`
- `.shift`
- `.meta`

```html
<!-- Alt + C -->
<input @keyup.alt.67="clear">

<!-- Ctrl + Click -->
<div @click.ctrl="doSomething">Do something</div>
```

âš  è¯·æ³¨æ„ä¿®é¥°é”®ä¸å¸¸è§„æŒ‰é”®ä¸åŒï¼Œåœ¨å’Œ `keyup` äº‹ä»¶ä¸€èµ·ç”¨æ—¶ï¼Œäº‹ä»¶è§¦å‘æ—¶ä¿®é¥°é”®å¿…é¡»å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰åœ¨æŒ‰ä½ `ctrl` çš„æƒ…å†µä¸‹é‡Šæ”¾å…¶å®ƒæŒ‰é”®ï¼Œæ‰èƒ½è§¦å‘ `keyup.ctrl`ã€‚è€Œå•å•é‡Šæ”¾ `ctrl` ä¹Ÿä¸ä¼šè§¦å‘äº‹ä»¶ã€‚å¦‚æœä½ æƒ³è¦è¿™æ ·çš„è¡Œä¸ºï¼Œè¯·ä¸º `ctrl` æ¢ç”¨ `keyCode`ï¼š`keyup.17`ã€‚

