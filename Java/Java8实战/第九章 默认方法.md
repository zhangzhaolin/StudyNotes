# 第九章 默认方法

Java8中的接口现在支持在声明方法的同时提供实现：

- Java8允许在接口中声明静态方法
- Java8可以通过*默认方法*指定接口方法的默认实现

实现接口的类如果不显示的提供该方法的具体实现，就会自动继承默认的实现。

第一章中我们在`List`接口中看到的`sort`方法是Java8中的全新方法：

```java
default void sort(Comparator<? super E> c) {
    Object[] a = this.toArray();
    Arrays.sort(a, (Comparator) c);
    ListIterator<E> i = this.listIterator();
    for (Object e : a) {
        i.next();
        i.set((E) e);
    }
}
```

这里的`sort`调用了`Arrays.sort`方法进行排序操作。有了这个全新的方法，我们就可以调用`sort`对元素进行排序：

```java
List<Integer> numbers = Arrays.asList(6, 4, 1, 7, 9);
numbers.sort(Comparator.naturalOrder());
```

其中，`Comparator.naturalOrder()`是`Comparator`接口的一个全新静态方法，它返回一个`Comparator`对象，并按照自然顺序对其中的元素进行排序。

`Collection.stream()`方法定义如下：

```java
default Stream<E> stream() {
    return StreamSupport.stream(spliterator(), false);
}
```

<u>引入默认方法的目的：让类可以自动地继承接口的一个默认实现</u>

## 解决冲突的规则

在Java中，一个类只能继承一个父类，但是一个类可以继承多个接口。在Java8引入了默认方法之后，有可能出现一个类继承了多个方法而他们使用同样的函数签名。这种情况下，类会选择哪一个函数？

```java

```

